import"./date-Di4mqaYl.js";const r=()=>{const o=document.getElementById("liste-course-body"),n=window.localStorage;let a=JSON.parse(n.getItem("basket"))||[];o.innerHTML="",a.forEach(e=>{const t=document.createElement("tr"),s=document.createElement("td"),d=document.createElement("td"),i=document.createElement("td"),m=document.createElement("td"),p=document.createElement("td"),c=document.createElement("button"),b=document.getElementById("vider-liste");t.classList.add("border-b","border-gray-300"),s.classList.add("p-2","text-center"),d.classList.add("p-2","text-center"),i.classList.add("p-2","text-center"),m.classList.add("p-2","text-center"),p.classList.add("p-2","text-center"),s.textContent=e.nom,d.innerHTML=`<input type="number" class="w-full text-center" value="${e.quantity}" />`,i.textContent=e.price,m.textContent=parseFloat(e.price*e.quantity).toFixed(2),c.textContent="Supprimer",c.classList.add("bg-red-500","text-white","p-2","rounded-lg","hover:bg-red-700","cursor-pointer"),d.querySelector("input").addEventListener("change",u=>{e.quantity=parseInt(u.target.value,10),n.setItem("basket",JSON.stringify(a)),l(),r()}),c.addEventListener("click",()=>{a=a.filter(u=>u.nom!==e.nom),n.setItem("basket",JSON.stringify(a)),l(),r()}),b.addEventListener("click",()=>{n.removeItem("basket"),l(),r()}),t.appendChild(s),t.appendChild(i),t.appendChild(d),t.appendChild(m),p.appendChild(c),t.appendChild(p),o.appendChild(t)})},l=()=>{const o=document.getElementById("total-general"),n=window.localStorage,e=(JSON.parse(n.getItem("basket"))||[]).reduce((t,s)=>t+s.price*s.quantity,0);o.textContent=parseFloat(e).toFixed(2)};document.addEventListener("DOMContentLoaded",()=>{l(),r()});
